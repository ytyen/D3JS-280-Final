webpackJsonp([1,5],{"+0PM":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=['@charset "UTF-8";#container[_ngcontent-%COMP%]{padding:35px 35px 15px;margin-top:20px;margin-bottom:30px;position:relative;display:inline-block;border:5px solid #ebebeb}#tooltip[_ngcontent-%COMP%]{font-family:微軟正黑體;background:#fff;border:1px solid #999;border-radius:5px;box-shadow:2px 2px 8px #888;position:absolute;visibility:hidden;padding:8px 15px;z-index:999}#tooltip[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:900;font-size:16px}#tooltip[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{text-align:center;font-weight:900;font-size:14px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title):not(.year){text-align:right}']},"/fcW":function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="/fcW"},1:function(t,n,e){t.exports=e("x35b")},"1A80":function(t,n,e){"use strict";function l(t){return a["ɵvid"](0,[a["ɵqud"](201326592,1,{lineChart:0}),a["ɵqud"](201326592,2,{barChart:0}),a["ɵqud"](201326592,3,{pieChart:0}),a["ɵqud"](201326592,4,{lineChartAvgHours:0}),(t()(),a["ɵeld"](0,null,null,29,"div",[["class","wrapper"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),a["ɵted"](null,["經常性薪資"])),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"app-line-chart",[],null,null,null,o.a,o.b)),a["ɵdid"](2121728,[[1,4],["lineChart",4]],0,u.a,[s.a],{rawData:[0,"rawData"]},null),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),a["ɵted"](null,["平均工時"])),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"button",[["id","bar-line-toggle"]],null,[[null,"click"]],function(t,n,e){var l=!0,i=t.component;if("click"===n){l=(i.toggleBarOrLine=!i.toggleBarOrLine)!=!1&&l}return l},null,null)),(t()(),a["ɵted"](null,["",""])),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"app-bar-chart",[],[[4,"display",null]],null,null,d.a,d.b)),a["ɵdid"](2121728,[[2,4],["barChart",4]],0,h.a,[s.a],{rawData:[0,"rawData"]},null),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"app-line-chart-avg-hours",[],[[4,"display",null]],null,null,p.a,p.b)),a["ɵdid"](2121728,[[4,4],["lineChartAvgHours",4]],0,g.a,[s.a],{rawData:[0,"rawData"]},null),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),a["ɵted"](null,["受僱員工人數"])),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,1,"app-pie-chart",[],null,null,null,f.a,f.b)),a["ɵdid"](2121728,[[3,4],["pieChart",4]],0,_.a,[s.a],{rawData:[0,"rawData"]},null),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵted"](null,["\n"]))],function(t,n){var e=n.component;t(n,10,0,e.data),t(n,21,0,e.data),t(n,24,0,e.data),t(n,32,0,e.data)},function(t,n){var e=n.component;t(n,18,0,e.toggleBarOrLine?"切換為折線圖":"切換為長條圖"),t(n,20,0,e.toggleBarOrLine?"":"none"),t(n,23,0,e.toggleBarOrLine?"none":"")})}function i(t){return a["ɵvid"](0,[(t()(),a["ɵeld"](0,null,null,1,"app-root",[],null,null,null,l,v)),a["ɵdid"](57344,null,0,c.a,[s.a,m.k],null,null)],function(t,n){t(n,1,0)},null)}var r=e("l0Vc"),a=e("3j3K"),o=e("2T5t"),u=e("9sLU"),s=e("jhga"),c=e("YWx4"),d=e("Zo/k"),h=e("NhIl"),p=e("SUyc"),g=e("7ALU"),f=e("Ucbx"),_=e("sSFt"),m=e("Fzro");e.d(n,"a",function(){return b});var y=[r.a],v=a["ɵcrt"]({encapsulation:0,styles:y,data:{}}),b=a["ɵccf"]("app-root",c.a,i,{},{},[])},"2T5t":function(t,n,e){"use strict";function l(t){return s["ɵvid"](0,[(t()(),s["ɵeld"](0,null,null,1,"div",[["id","year"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["",""]))],null,function(t,n){t(n,1,0,n.component.selectYear)})}function i(t){return s["ɵvid"](0,[(t()(),s["ɵeld"](0,null,null,0,"p",[["class","year"]],null,null,null,null,null))],null,null)}function r(t){return s["ɵvid"](0,[(t()(),s["ɵeld"](0,null,null,15,"div",[],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,8,"div",[["class","slider-bar"],["style","display: inline-block;width: 800px;padding-left: 30px;padding-right: 30px"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n      "])),(t()(),s["ɵeld"](0,null,null,5,"nouislider",[],[[2,"ng2-nouislider",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,n,e){var l=!0,i=t.component;if("ngModelChange"===n){l=(i.selectYear=e)!==!1&&l}if("ngModelChange"===n){l=i.yearChange(e)!==!1&&l}return l},c.a,c.b)),s["ɵdid"](319488,null,0,d.NouisliderComponent,[s.ElementRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"],ngModel:[3,"ngModel"],tooltips:[4,"tooltips"]},null),s["ɵprd"](512,null,h.NG_VALUE_ACCESSOR,function(t){return[t]},[d.NouisliderComponent]),s["ɵdid"](335872,null,0,h.NgModel,[[8,null],[8,null],[8,null],[2,h.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),s["ɵprd"](1024,null,h.NgControl,null,[h.NgModel]),s["ɵdid"](8192,null,0,h.NgControlStatus,[h.NgControl],null,null),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,1,"button",[["style","display: inline-block;width: 60px;position: absolute;margin-top: 8px"]],null,[[null,"click"]],function(t,n,e){var l=!0,i=t.component;if("click"===n){l=i.playAndPause()!==!1&&l}return l},null,null)),(t()(),s["ɵted"](null,["",""])),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵted"](null,["\n  "]))],function(t,n){var e=n.component;t(n,5,0,1991,2016,1,e.selectYear,!0),t(n,7,0,e.selectYear)},function(t,n){var e=n.component;t(n,4,0,!0,s["ɵnov"](n,9).ngClassUntouched,s["ɵnov"](n,9).ngClassTouched,s["ɵnov"](n,9).ngClassPristine,s["ɵnov"](n,9).ngClassDirty,s["ɵnov"](n,9).ngClassValid,s["ɵnov"](n,9).ngClassInvalid,s["ɵnov"](n,9).ngClassPending),t(n,13,0,e.playSub?"Pause":"Play")})}function a(t){return s["ɵvid"](0,[s["ɵqud"](201326592,1,{container:0}),(t()(),s["ɵeld"](0,null,null,1,"app-treemap",[],null,[[null,"select"]],function(t,n,e){var l=!0,i=t.component;if("select"===n){l=i.selectIndustry(e)!==!1&&l}return l},g.a,g.b)),s["ɵdid"](2121728,null,0,f.a,[_.a],null,{select:"select"}),(t()(),s["ɵted"](null,["\n"])),(t()(),s["ɵeld"](0,[[1,0],["container",1]],null,41,"div",[["id","container"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n  "])),(t()(),s["ɵeld"](0,null,null,21,"div",[["id","switch"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,8,"label",[],null,null,null,null,null)),(t()(),s["ɵeld"](0,null,null,6,"input",[["type","radio"],["value","month"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,i=t.component;if("input"===n){l=s["ɵnov"](t,10)._handleInput(e.target.value)!==!1&&l}if("blur"===n){l=s["ɵnov"](t,10).onTouched()!==!1&&l}if("compositionstart"===n){l=s["ɵnov"](t,10)._compositionStart()!==!1&&l}if("compositionend"===n){l=s["ɵnov"](t,10)._compositionEnd(e.target.value)!==!1&&l}if("change"===n){l=s["ɵnov"](t,11).onChange()!==!1&&l}if("blur"===n){l=s["ɵnov"](t,11).onTouched()!==!1&&l}if("ngModelChange"===n){l=(i.dataSwitch=e)!==!1&&l}if("ngModelChange"===n){l=i.switch()!==!1&&l}return l},null,null)),s["ɵdid"](8192,null,0,h.DefaultValueAccessor,[s.Renderer,s.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),s["ɵdid"](106496,null,0,h.RadioControlValueAccessor,[s.Renderer,s.ElementRef,h["ɵi"],s.Injector],{value:[0,"value"]},null),s["ɵprd"](512,null,h.NG_VALUE_ACCESSOR,function(t,n){return[t,n]},[h.DefaultValueAccessor,h.RadioControlValueAccessor]),s["ɵdid"](335872,null,0,h.NgModel,[[8,null],[8,null],[8,null],[2,h.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),s["ɵprd"](1024,null,h.NgControl,null,[h.NgModel]),s["ɵdid"](8192,null,0,h.NgControlStatus,[h.NgControl],null,null),(t()(),s["ɵted"](null,["月"])),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,8,"label",[],null,null,null,null,null)),(t()(),s["ɵeld"](0,null,null,6,"input",[["type","radio"],["value","year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,i=t.component;if("input"===n){l=s["ɵnov"](t,20)._handleInput(e.target.value)!==!1&&l}if("blur"===n){l=s["ɵnov"](t,20).onTouched()!==!1&&l}if("compositionstart"===n){l=s["ɵnov"](t,20)._compositionStart()!==!1&&l}if("compositionend"===n){l=s["ɵnov"](t,20)._compositionEnd(e.target.value)!==!1&&l}if("change"===n){l=s["ɵnov"](t,21).onChange()!==!1&&l}if("blur"===n){l=s["ɵnov"](t,21).onTouched()!==!1&&l}if("ngModelChange"===n){l=(i.dataSwitch=e)!==!1&&l}if("ngModelChange"===n){l=i.switch()!==!1&&l}return l},null,null)),s["ɵdid"](8192,null,0,h.DefaultValueAccessor,[s.Renderer,s.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),s["ɵdid"](106496,null,0,h.RadioControlValueAccessor,[s.Renderer,s.ElementRef,h["ɵi"],s.Injector],{value:[0,"value"]},null),s["ɵprd"](512,null,h.NG_VALUE_ACCESSOR,function(t,n){return[t,n]},[h.DefaultValueAccessor,h.RadioControlValueAccessor]),s["ɵdid"](335872,null,0,h.NgModel,[[8,null],[8,null],[8,null],[2,h.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),s["ɵprd"](1024,null,h.NgControl,null,[h.NgModel]),s["ɵdid"](8192,null,0,h.NgControlStatus,[h.NgControl],null,null),(t()(),s["ɵted"](null,["年"])),(t()(),s["ɵted"](null,["\n  "])),(t()(),s["ɵted"](null,["\n  "])),(t()(),s["ɵand"](8388608,null,null,1,null,l)),s["ɵdid"](8192,null,0,m.f,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),s["ɵted"](null,["\n  "])),(t()(),s["ɵeld"](0,null,null,12,"div",[["id","tooltip"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,0,"p",[["class","title"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵand"](8388608,null,null,1,null,i)),s["ɵdid"](8192,null,0,m.f,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,0,"p",[["class","content_1"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,0,"p",[["class","content_2"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n    "])),(t()(),s["ɵeld"](0,null,null,0,"p",[["class","content_3"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n  "])),(t()(),s["ɵted"](null,["\n"])),(t()(),s["ɵted"](null,["\n\n"])),(t()(),s["ɵeld"](0,null,null,4,"div",[["style","margin-top:30px;height: 50px"]],null,null,null,null,null)),(t()(),s["ɵted"](null,["\n  "])),(t()(),s["ɵand"](8388608,null,null,1,null,r)),s["ɵdid"](8192,null,0,m.f,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),s["ɵted"](null,["\n"])),(t()(),s["ɵted"](null,["\n"]))],function(t,n){var e=n.component;t(n,11,0,"month"),t(n,13,0,e.dataSwitch),t(n,21,0,"year"),t(n,23,0,e.dataSwitch),t(n,30,0,"month"===e.dataSwitch),t(n,37,0,"year"===e.dataSwitch),t(n,50,0,"month"===e.dataSwitch)},function(t,n){t(n,9,0,s["ɵnov"](n,15).ngClassUntouched,s["ɵnov"](n,15).ngClassTouched,s["ɵnov"](n,15).ngClassPristine,s["ɵnov"](n,15).ngClassDirty,s["ɵnov"](n,15).ngClassValid,s["ɵnov"](n,15).ngClassInvalid,s["ɵnov"](n,15).ngClassPending),t(n,19,0,s["ɵnov"](n,25).ngClassUntouched,s["ɵnov"](n,25).ngClassTouched,s["ɵnov"](n,25).ngClassPristine,s["ɵnov"](n,25).ngClassDirty,s["ɵnov"](n,25).ngClassValid,s["ɵnov"](n,25).ngClassInvalid,s["ɵnov"](n,25).ngClassPending)})}function o(t){return s["ɵvid"](0,[(t()(),s["ɵeld"](0,null,null,1,"app-line-chart",[],null,null,null,a,v)),s["ɵdid"](2121728,null,0,p.a,[_.a],null,null)],null,null)}var u=e("JdOG"),s=e("3j3K"),c=e("JhR1"),d=e("xA9i"),h=(e.n(d),e("NVOs")),p=e("9sLU"),g=e("QleX"),f=e("SARu"),_=e("jhga"),m=e("2Je8");e.d(n,"b",function(){return v}),n.a=a;var y=[u.a],v=s["ɵcrt"]({encapsulation:0,styles:y,data:{}});s["ɵccf"]("app-line-chart",p.a,o,{rawData:"rawData",colors:"colors",max:"max",min:"min",selectData:"selectData",_data:"_data"},{},[])},"7ALU":function(t,n,e){"use strict";var l=e("VHfV"),i=e("rCTf"),r=(e.n(i),e("M4fF"));e.n(r);e.d(n,"a",function(){return a});var a=function(){function t(t){this.d3Service=t,this._data=[],this.dataSwitch="month",this.margin={top:35,right:30,bottom:35,left:30},this.padding=50,this.w=900,this.h=450,this.r=6,this.d3=t.getD3()}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.yScale=this.d3.scaleLinear().domain([0,300]).range([this.h-this.margin.top-this.margin.bottom-this.padding,this.margin.top-25]),this.xScale=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left,this.w-this.margin.left-this.margin.right-this.padding]),this.bind(this.getYearsData(this.data))},enumerable:!0,configurable:!0}),t.prototype.selectIndustry=function(t){var n=this.rawData.filter(function(n){return t.indexOf(n.行業)>-1});this.selectData=t,this.data=n.map(function(t){return{"時間":t.時間,"行業":t.行業,"平均工時":t.平均工時,"平均工時_男":t.平均工時_男,"平均工時_女":t.平均工時_女}})},t.prototype.ngAfterViewInit=function(){this.svg=this.d3.select(this.container.nativeElement).append("svg").attrs({width:this.w-this.margin.left-this.margin.right,height:this.h-this.margin.top-this.margin.bottom}),this.callAxis()},t.prototype.callAxis=function(){var t=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left+this.padding-20,this.w-this.margin.left-this.margin.right-this.r-15]),n=this.d3.scaleLinear().domain([0,300]).range([this.h-this.margin.top-this.margin.bottom-this.padding,this.margin.top-26]);this.svg.append("g").attr("class","axis yearAxis").attr("transform","translate(0,"+(this.h-this.margin.top-this.margin.bottom-this.padding)+")").call(this.d3.axisBottom(t).ticks(26).tickFormat(function(t){return t.toString()})).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),this.svg.append("g").attr("class","axis").attr("transform","translate("+(this.margin.left+12)+",0)").call(this.d3.axisLeft(n).ticks(5).tickFormat(function(t){return t.toString()}))},t.prototype.bind=function(t,n){var e=this;void 0===n&&(n=null);var l=t.map(function(t){return t.行業}).filter(function(t,n,e){return e.indexOf(t)===n}).map(function(n){return t.filter(function(t){return t.行業===n})}),a=r.max(l.map(function(t){return t.length}))+1,o=i.Observable.from(l).map(function(t){return i.Observable.interval(30).take(a).map(function(n){return t.slice(0,n)})}).zipAll();this.lineSub&&this.lineSub.unsubscribe(),this.lineSub=o.subscribe(function(t){var n,i;t.length>0?(n=e.svg.selectAll("circle").data(t.reduce(function(t,n){return t.concat(n)})),i=e.svg.selectAll("line.data-line").data(t.map(function(t){return t.slice(0,t.length-1)}).reduce(function(t,n){return t.concat(n)}))):(n=e.svg.selectAll("circle").data([]),i=e.svg.selectAll("line.data-line").data([])),n.exit().remove(),n.enter().append("circle"),i.exit().remove(),i.enter().append("line").classed("data-line",!0),e.render(l.length>0?l.reduce(function(t,n){return t.concat(n)}):[]),e.bindEvents()})},t.prototype.render=function(t){var n=this;this.svg.selectAll("circle").attrs({cx:function(t){return n.margin.left+n.xScale(t.時間.getFullYear())},cy:function(t){return n.yScale(t.平均工時)},r:this.r,fill:function(t){return n.colors.find(function(n){return n.name===t.行業}).color},stroke:"#666666","stroke-width":3}).style("display","none").transition().duration(60).style("display",""),this.svg.selectAll("line.data-line").attrs({x1:function(t){return n.margin.left+n.xScale(t.時間.getFullYear())},x2:function(t){return n.margin.left+n.xScale(t.時間.getFullYear()+1)},y1:function(t){return n.yScale(t.平均工時)},y2:function(e){var l=t.filter(function(t){return t.行業===e.行業}).map(function(t){return t.平均工時}),i=l.indexOf(e.平均工時);return i<l.length-1?n.yScale(l[i+1]):""},stroke:function(t){return n.colors.find(function(n){return n.name===t.行業}).color},"stroke-width":3}).style("display","none").transition().duration(30).style("display",""),this.svg.selectAll("circle").raise()},t.prototype.bindEvents=function(){var t,n,e=this;this.svg.selectAll("circle").on("mouseover",function(l,i,r){e.d3.mouse(e.d3.event.target);e.lineSub&&e.lineSub.closed&&(t=e.svg.append("line").classed("help",!0).attrs({x1:e.margin.left+12,y1:e.d3.select(e.d3.event.target).attr("cy"),x2:e.d3.select(e.d3.event.target).attr("cx"),y2:e.d3.select(e.d3.event.target).attr("cy"),stroke:"#333333","stroke-width":2,"stroke-dasharray":"5, 5",opacity:.8}),n=e.svg.append("line").classed("help",!0).attrs({x1:e.d3.select(e.d3.event.target).attr("cx"),y1:e.d3.select(e.d3.event.target).attr("cy"),x2:e.d3.select(e.d3.event.target).attr("cx"),y2:e.h-e.margin.top-e.margin.bottom-e.padding,stroke:"#333333","stroke-width":2,"stroke-dasharray":"5, 5",opacity:.8})),e.d3.select(e.d3.event.target).raise();var a=e.d3.select(e.container.nativeElement).select("#tooltip");a.select(".title").text(l.行業),a.select(".year").text(l.時間.getFullYear()),a.select(".content_1").text("平均工時："+Number(l.平均工時).toLocaleString()+" 元"),a.select(".content_2").text("男："+Number(l.平均工時_男).toLocaleString()+" 元"),a.select(".content_3").text("女："+Number(l.平均工時_女).toLocaleString()+" 元"),a.style("visibility","visible")}).on("mousemove",function(t,n,l){var i=e.d3.mouse(e.d3.event.target);e.d3.select(e.container.nativeElement).select("#tooltip").styles({transform:"translate("+(i[0]+5)+"px,"+(i[1]+5)+"px)"})}).on("mouseout",function(l,i,r){e.d3.select(e.container.nativeElement).select("#tooltip").style("visibility","hidden"),t&&t.remove(),n&&n.remove()})},t.prototype.yearChange=function(t){this.bind(this.data,t)},t.prototype.getYearsData=function(t){var n=this,e=r.groupBy(t,function(t){return t.時間.getFullYear()}),l=r.map(e,function(t){return r.groupBy(t,function(t){return t.行業})});return r.flatten(this.selectData.map(function(t){return l.map(function(n){return n[t]}).map(n.calculateAvg)})).filter(function(t){return t.行業})},t.prototype.calculateAvg=function(t){return t&&t.length>0?{"時間":t[0].時間,"行業":t[0].行業,"平均工時":r.round(t.map(function(t){return t.平均工時}).reduce(r.add)/t.length),"平均工時_女":r.round(t.map(function(t){return t.平均工時_女}).reduce(r.add)/t.length),"平均工時_男":r.round(t.map(function(t){return t.平均工時_男}).reduce(r.add)/t.length)}:{"時間":new Date,"行業":"","平均工時":0,"平均工時_女":0,"平均工時_男":0}},t.ctorParameters=function(){return[{type:l.a}]},t}()},"9sLU":function(t,n,e){"use strict";var l=e("VHfV"),i=e("rCTf"),r=(e.n(i),e("M4fF"));e.n(r);e.d(n,"a",function(){return a});var a=function(){function t(t){this.d3Service=t,this._data=[],this.selectYear=1991,this.dataSwitch="month",this.margin={top:35,right:30,bottom:35,left:30},this.padding=50,this.w=900,this.h=450,this.r=6,this.years=[],this.d3=t.getD3();for(var n=0;n<=25;n++)this.years.push(1991+n)}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){switch(this._data=t,this.yScale=this.d3.scaleLinear().domain([0,1e5]).range([this.h-this.margin.top-this.margin.bottom-this.padding,this.margin.top+20]),this.dataSwitch){case"month":this.d3.select(".axis.monthAxis").attr("display",""),this.d3.select(".axis.yearAxis").attr("display","none"),this.xScale=this.d3.scaleLinear().domain([1,13]).range([this.margin.left,this.w-this.margin.left-this.margin.right]),this.bind(this.data,this.selectYear);break;case"year":this.d3.select(".axis.monthAxis").attr("display","none"),this.d3.select(".axis.yearAxis").attr("display",""),this.xScale=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left,this.w-this.margin.left-this.margin.right-this.padding]),this.bind(this.getYearsData(this.data))}},enumerable:!0,configurable:!0}),t.prototype.selectIndustry=function(t){var n=this.rawData.filter(function(n){return t.indexOf(n.行業)>-1});this.selectData=t,this.data=n.map(function(t){return{"時間":t.時間,"行業":t.行業,"經常性薪資":t.經常性薪資,"經常性薪資_男":t.經常性薪資_男,"經常性薪資_女":t.經常性薪資_女}})},t.prototype.ngAfterViewInit=function(){switch(this.svg=this.d3.select(this.container.nativeElement).append("svg").attrs({width:this.w-this.margin.left-this.margin.right,height:this.h-this.margin.top-this.margin.bottom}),this.callAxis(),this.callYearsAxis(),this.dataSwitch){case"month":this.d3.select(".axis.monthAxis").attr("display",""),this.d3.select(".axis.yearAxis").attr("display","none");break;case"year":this.d3.select(".axis.monthAxis").attr("display","none"),this.d3.select(".axis.yearAxis").attr("display","")}},t.prototype.callAxis=function(){var t=this.d3.scaleLinear().domain([1,12]).range([this.margin.left+this.padding-20,this.w-this.margin.left-this.margin.right-this.padding-this.r+18]),n=this.d3.scaleLinear().domain([0,1e5]).range([this.h-this.margin.top-this.margin.bottom-this.padding,this.margin.top+18]);this.svg.append("g").attr("class","axis monthAxis").attr("transform","translate(0,"+(this.h-this.margin.top-this.margin.bottom-this.padding)+")").call(this.d3.axisBottom(t)),this.svg.append("g").attr("class","axis").attr("transform","translate("+(this.margin.left+12)+",0)").call(this.d3.axisLeft(n).tickFormat(function(t){return t/1e3+"K"}))},t.prototype.callYearsAxis=function(){var t=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left+this.padding-20,this.w-this.margin.left-this.margin.right-this.r-15]);this.svg.append("g").attr("class","axis yearAxis").attr("transform","translate(0,"+(this.h-this.margin.top-this.margin.bottom-this.padding)+")").call(this.d3.axisBottom(t).ticks(26).tickFormat(function(t){return t.toString()})).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)")},t.prototype.bind=function(t,n){var e=this;void 0===n&&(n=null);var l,a;switch(this.dataSwitch){case"month":l=t.map(function(t){return t.行業}).filter(function(t,n,e){return e.indexOf(t)===n}).map(function(e){return t.filter(function(t){return t.時間.getFullYear()===n&&t.行業===e})}),a=13;break;case"year":l=t.map(function(t){return t.行業}).filter(function(t,n,e){return e.indexOf(t)===n}).map(function(n){return t.filter(function(t){return t.行業===n})}),a=r.max(l.map(function(t){return t.length}))+1}var o=i.Observable.from(l).map(function(t){return i.Observable.interval(30).take(a).map(function(n){return t.slice(0,n)})}).zipAll();this.lineSub&&this.lineSub.unsubscribe(),this.lineSub=o.subscribe(function(t){var n,i;t.length>0?(n=e.svg.selectAll("circle").data(t.reduce(function(t,n){return t.concat(n)})),i=e.svg.selectAll("line.data-line").data(t.map(function(t){return t.slice(0,t.length-1)}).reduce(function(t,n){return t.concat(n)}))):(n=e.svg.selectAll("circle").data([]),i=e.svg.selectAll("line.data-line").data([])),n.exit().remove(),n.enter().append("circle"),i.exit().remove(),i.enter().append("line").classed("data-line",!0),e.render(l.length>0?l.reduce(function(t,n){return t.concat(n)}):[]),e.bindEvents()})},t.prototype.render=function(t){var n=this;switch(this.dataSwitch){case"month":this.svg.selectAll("circle").attrs({cx:function(t){return n.margin.left+n.xScale(t.時間.getMonth()+1)}}),this.svg.selectAll("line.data-line").attrs({x1:function(t){return n.margin.left+n.xScale(t.時間.getMonth()+1)},x2:function(t){return n.margin.left+n.xScale(t.時間.getMonth()+1+1)}});break;case"year":this.svg.selectAll("circle").attrs({cx:function(t){return n.margin.left+n.xScale(t.時間.getFullYear())}}),this.svg.selectAll("line.data-line").attrs({x1:function(t){return n.margin.left+n.xScale(t.時間.getFullYear())},x2:function(t){return n.margin.left+n.xScale(t.時間.getFullYear()+1)}})}this.svg.selectAll("circle").attrs({cy:function(t){return n.yScale(t.經常性薪資)},r:this.r,fill:function(t){return n.colors.find(function(n){return n.name===t.行業}).color},stroke:"#666666","stroke-width":3}).style("display","none").transition().duration(60).style("display",""),this.svg.selectAll("line.data-line").attrs({y1:function(t){return n.yScale(t.經常性薪資)},y2:function(e){var l=t.filter(function(t){return t.行業===e.行業}).map(function(t){return t.經常性薪資}),i=l.indexOf(e.經常性薪資);return i<l.length-1?n.yScale(l[i+1]):""},stroke:function(t){return n.colors.find(function(n){return n.name===t.行業}).color},"stroke-width":3}).style("display","none").transition().duration(30).style("display",""),this.svg.selectAll("circle").raise()},t.prototype.bindEvents=function(){var t,n,e=this;this.svg.selectAll("circle").on("mouseover",function(l,i,r){e.d3.mouse(e.d3.event.target);e.lineSub&&e.lineSub.closed&&(t=e.svg.append("line").classed("help",!0).attrs({x1:e.margin.left+12,y1:e.d3.select(e.d3.event.target).attr("cy"),x2:e.d3.select(e.d3.event.target).attr("cx"),y2:e.d3.select(e.d3.event.target).attr("cy"),stroke:"#333333","stroke-width":2,"stroke-dasharray":"5, 5",opacity:.8}),n=e.svg.append("line").classed("help",!0).attrs({x1:e.d3.select(e.d3.event.target).attr("cx"),y1:e.d3.select(e.d3.event.target).attr("cy"),x2:e.d3.select(e.d3.event.target).attr("cx"),y2:e.h-e.margin.top-e.margin.bottom-e.padding,stroke:"#333333","stroke-width":2,"stroke-dasharray":"5, 5",opacity:.8})),e.d3.select(e.d3.event.target).raise();var a=e.d3.select(e.container.nativeElement).select("#tooltip");a.select(".title").text(l.行業),a.select(".year").text(l.時間.getFullYear()),a.select(".content_1").text("經常性薪資："+Number(l.經常性薪資).toLocaleString()+" 元"),a.select(".content_2").text("男："+Number(l.經常性薪資_男).toLocaleString()+" 元"),a.select(".content_3").text("女："+Number(l.經常性薪資_女).toLocaleString()+" 元"),a.style("visibility","visible")}).on("mousemove",function(t,n,l){var i=e.d3.mouse(e.d3.event.target);e.d3.select(e.container.nativeElement).select("#tooltip").styles({transform:"translate("+(i[0]+5)+"px,"+(i[1]+5)+"px)"})}).on("mouseout",function(l,i,r){e.d3.select(e.container.nativeElement).select("#tooltip").style("visibility","hidden"),t&&t.remove(),n&&n.remove()})},t.prototype.playAndPause=function(){var t=this;this.playSub?(this.playSub.unsubscribe(),this.playSub=void 0):this.playSub=i.Observable.interval(1e3).takeWhile(function(){return t.selectYear<2016}).subscribe(function(){return t.selectYear++},null,function(){return t.playSub=void 0})},t.prototype.yearChange=function(t){this.bind(this.data,t)},t.prototype.getYearsData=function(t){var n=this,e=r.groupBy(t,function(t){return t.時間.getFullYear()}),l=r.map(e,function(t){return r.groupBy(t,function(t){return t.行業})});return r.flatten(this.selectData.map(function(t){return l.map(function(n){return n[t]}).map(n.calculateAvg)})).filter(function(t){return t.行業})},t.prototype.calculateAvg=function(t){return t&&t.length>0?{"時間":t[0].時間,"行業":t[0].行業,"經常性薪資":r.round(t.map(function(t){return t.經常性薪資}).reduce(r.add)/t.length),"經常性薪資_女":r.round(t.map(function(t){return t.經常性薪資_女}).reduce(r.add)/t.length),"經常性薪資_男":r.round(t.map(function(t){return t.經常性薪資_男}).reduce(r.add)/t.length)}:{"時間":new Date,"行業":"","經常性薪資":0,"經常性薪資_女":0,"經常性薪資_男":0}},t.prototype.switch=function(){switch(this.dataSwitch){case"month":this.d3.select(".axis.monthAxis").attr("display",""),this.d3.select(".axis.yearAxis").attr("display","none"),this.xScale=this.d3.scaleLinear().domain([1,13]).range([this.margin.left,this.w-this.margin.left-this.margin.right]),this.bind(this.data,this.selectYear);break;case"year":this.d3.select(".axis.monthAxis").attr("display","none"),this.d3.select(".axis.yearAxis").attr("display",""),this.xScale=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left,this.w-this.margin.left-this.margin.right-this.padding]),this.bind(this.getYearsData(this.data))}},t.ctorParameters=function(){return[{type:l.a}]},t}()},Iksp:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){function t(){}return t}()},JdOG:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=['@charset "UTF-8";#container[_ngcontent-%COMP%]{padding:35px 35px 15px;margin-bottom:10px;position:relative;display:inline-block;border:5px solid #ebebeb}#switch[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;border:1px solid #999;border-radius:5px;padding:8px 10px}#switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 10px}#switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}#year[_ngcontent-%COMP%]{top:10px;right:20px;font-size:80px;color:#666;opacity:.8}#tooltip[_ngcontent-%COMP%], #year[_ngcontent-%COMP%]{position:absolute}#tooltip[_ngcontent-%COMP%]{font-family:微軟正黑體;background:#fff;border:1px solid #999;border-radius:5px;box-shadow:2px 2px 8px #888;visibility:hidden;padding:8px 15px;z-index:999}#tooltip[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:900;font-size:16px}#tooltip[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{text-align:center;font-weight:900;font-size:14px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title):not(.year){text-align:right}']},JhR1:function(t,n,e){"use strict";function l(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,0,"div",[],[[1,"disabled",0]],null,null,null,null))],null,function(t,n){t(n,0,0,!!n.component.disabled||void 0)})}function i(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,2,"nouislider",[],[[2,"ng2-nouislider",null]],null,null,l,d)),r["ɵdid"](319488,null,0,a.NouisliderComponent,[r.ElementRef],null,null),r["ɵprd"](2560,null,o.NG_VALUE_ACCESSOR,function(t){return[t]},[a.NouisliderComponent])],function(t,n){t(n,1,0)},function(t,n){t(n,0,0,!0)})}var r=e("3j3K"),a=e("xA9i"),o=(e.n(a),e("NVOs"));e.d(n,"b",function(){return d}),n.a=l;var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),s=function(t){function n(n){return t.call(this,n,[],[])||this}return u(n,t),n.prototype.createInternal=function(){return this._NouisliderModule_0=new a.NouisliderModule,this._NouisliderModule_0},n.prototype.getInternal=function(t,n){return t===a.NouisliderModule?this._NouisliderModule_0:n},n.prototype.destroyInternal=function(){},n}(r["ɵNgModuleInjector"]),c=(new r.NgModuleFactory(s,a.NouisliderModule),["[_nghost-%COMP%] {\n      display: block;\n      margin-top: 1rem;\n      margin-bottom: 1rem;\n    }"]),d=r["ɵcrt"]({encapsulation:0,styles:c,data:{}});r["ɵccf"]("nouislider",a.NouisliderComponent,i,{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",step:"step",format:"format",pageSteps:"pageSteps",config:"config",ngModel:"ngModel",keyboard:"keyboard",onKeydown:"onKeydown",formControl:"formControl",tooltips:"tooltips"},{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},[])},NhIl:function(t,n,e){"use strict";var l=e("VHfV"),i=e("rCTf"),r=(e.n(i),e("M4fF"));e.n(r);e.d(n,"a",function(){return a});var a=function(){function t(t){this.d3Service=t,this._data=[],this.margin={top:35,right:30,bottom:35,left:30},this.padding=50,this.w=900,this.h=450,this.barWidth=18,this.years=[],this.d3=t.getD3();for(var n=0;n<=25;n++)this.years.push(1991+n)}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.yScale=this.d3.scaleLinear().domain([0,300]).range([this.margin.top-this.padding,this.h-this.margin.top-this.margin.bottom-this.padding-1]),this.xScale=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left,this.w-this.margin.left-this.margin.right-this.padding]),this.bind(this.getYearsData(this.data))},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.svg=this.d3.select(this.container.nativeElement).append("svg").attrs({width:this.w-this.margin.left-this.margin.right,height:this.h-this.margin.top-this.margin.bottom}),this.callAxis()},t.prototype.selectIndustry=function(t){var n=this.rawData.filter(function(n){return t.indexOf(n.行業)>-1});this.selectData=t,this.data=n.map(function(t){return{"時間":t.時間,"行業":t.行業,"平均工時":t.平均工時,"平均工時_男":t.平均工時_男,"平均工時_女":t.平均工時_女}})},t.prototype.callAxis=function(){var t=this.d3.scaleLinear().domain([1991,2016]).range([this.margin.left+this.padding-12,this.w-this.margin.left-this.margin.right-12]),n=this.d3.scaleLinear().domain([0,300]).range([this.h-this.margin.top-this.margin.bottom-this.padding,this.margin.top-26]);this.svg.append("g").attr("class","axis yearAxis").attr("transform","translate(0,"+(this.h-this.margin.top-this.margin.bottom-this.padding)+")").call(this.d3.axisBottom(t).ticks(26).tickFormat(function(t){return t.toString()})).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),this.svg.append("g").attr("class","axis").attr("transform","translate("+(this.margin.left+12)+",0)").call(this.d3.axisLeft(n).ticks(5).tickFormat(function(t){return t.toString()}))},t.prototype.bind=function(t,n){var e=this;void 0===n&&(n=null);var l,a;l=t.map(function(t){return t.行業}).filter(function(t,n,e){return e.indexOf(t)===n}).map(function(n){return t.filter(function(t){return t.行業===n})}),a=r.max(l.map(function(t){return t.length}))+1;var o=i.Observable.from(l).map(function(t){return i.Observable.interval(30).take(a).map(function(n){return t.slice(0,n)})}).zipAll();this.lineSub&&this.lineSub.unsubscribe(),this.lineSub=o.subscribe(function(t){var n;n=t.length>0?e.svg.selectAll("rect").data(t.reduce(function(t,n){return t.concat(n)})):e.svg.selectAll("rect").data([]),n.exit().remove(),n.enter().append("rect"),e.render(l.length>0?l.reduce(function(t,n){return t.concat(n)}):[]),e.bindEvents()})},t.prototype.render=function(t){var n=this;this.svg.selectAll("rect").attrs({x:function(t){return n.margin.left+n.xScale(t.時間.getFullYear())},y:function(t){return n.h-n.margin.top-n.margin.bottom-n.padding-n.yScale(t.平均工時)-1},width:this.barWidth,height:function(t){return n.yScale(t.平均工時)},fill:function(t){return n.colors.find(function(n){return n.name===t.行業}).color},stroke:"#666666","stroke-width":3}).style("display","none").transition().duration(30).style("display","")},t.prototype.bindEvents=function(){var t,n=this;this.svg.selectAll("rect").on("mouseover",function(e,l,i){n.d3.mouse(n.d3.event.target);n.lineSub&&n.lineSub.closed&&(t=n.svg.append("line").classed("help",!0).attrs({x1:n.margin.left+12,y1:n.h-n.margin.top-n.margin.bottom-n.padding-n.yScale(e.平均工時)-1,x2:n.w-n.margin.right,y2:n.h-n.margin.top-n.margin.bottom-n.padding-n.yScale(e.平均工時)-1,stroke:"#333333","stroke-width":2,"stroke-dasharray":"5, 5",opacity:.8}));var r=n.d3.select(n.container.nativeElement).select("#tooltip");r.select(".title").text(e.行業),r.select(".year").text(e.時間.getFullYear()),r.select(".content_1").text("平均工時："+Number(e.平均工時).toLocaleString()+" 小時"),r.select(".content_2").text("男："+Number(e.平均工時_男).toLocaleString()+" 小時"),r.select(".content_3").text("女："+Number(e.平均工時_女).toLocaleString()+" 小時"),r.style("visibility","visible")}).on("mousemove",function(t,e,l){var i=n.d3.mouse(n.d3.event.target);n.d3.select(n.container.nativeElement).select("#tooltip").styles({transform:"translate("+(i[0]+5)+"px,"+(i[1]+5)+"px)"})}).on("mouseout",function(e,l,i){n.d3.select(n.container.nativeElement).select("#tooltip").style("visibility","hidden"),t&&t.remove()})},t.prototype.getYearsData=function(t){var n=this,e=r.groupBy(t,function(t){return t.時間.getFullYear()}),l=r.map(e,function(t){return r.groupBy(t,function(t){return t.行業})});return r.flatten(this.selectData.map(function(t){return l.map(function(n){return n[t]}).map(n.calculateAvg)})).filter(function(t){return t.行業})},t.prototype.calculateAvg=function(t){return t&&t.length>0?{"時間":t[0].時間,"行業":t[0].行業,"平均工時":r.round(t.map(function(t){return t.平均工時}).reduce(r.add)/t.length),"平均工時_女":r.round(t.map(function(t){return t.平均工時_女}).reduce(r.add)/t.length),"平均工時_男":r.round(t.map(function(t){return t.平均工時_男}).reduce(r.add)/t.length)}:{"時間":new Date,"行業":"","平均工時":0,"平均工時_女":0,"平均工時_男":0}},t.ctorParameters=function(){return[{type:l.a}]},t}()},QleX:function(t,n,e){"use strict";function l(t){return a["ɵvid"](0,[a["ɵqud"](201326592,1,{container:0}),(t()(),a["ɵeld"](0,[[1,0],["container",1]],null,1,"div",[],[[2,"no-select",null]],null,null,null,null)),(t()(),a["ɵted"](null,["\n\n"])),(t()(),a["ɵted"](null,["\n"]))],null,function(t,n){t(n,1,0,n.component.noSelect)})}function i(t){return a["ɵvid"](0,[(t()(),a["ɵeld"](0,null,null,1,"app-treemap",[],null,null,null,l,c)),a["ɵdid"](2121728,null,0,o.a,[u.a],null,null)],null,null)}var r=e("dU5j"),a=e("3j3K"),o=e("SARu"),u=e("jhga");e.d(n,"b",function(){return c}),n.a=l;var s=[r.a],c=a["ɵcrt"]({encapsulation:0,styles:s,data:{}});a["ɵccf"]("app-treemap",o.a,i,{single:"single",noSelect:"noSelect"},{select:"select"},[])},SARu:function(t,n,e){"use strict";var l=e("VHfV"),i=e("3j3K");e.d(n,"a",function(){return r});var r=function(){function t(t){this.d3Service=t,this.single=!1,this.noSelect=!1,this.select=new i.EventEmitter,this.data=[{name:"資訊及通訊傳播業",parent:null},{name:"出版業",parent:"資訊及通訊傳播業"},{name:"影片服務、聲音錄製及音樂出版業",parent:"資訊及通訊傳播業"},{name:"傳播及節目播送業",parent:"資訊及通訊傳播業"},{name:"電信業",parent:"資訊及通訊傳播業"},{name:"電腦系統設計、資料處理及資訊供應服務業",parent:"資訊及通訊傳播業"},{name:"電腦系統設計服務業",parent:"資訊及通訊傳播業"},{name:"資料處理及資訊供應服務業",parent:"資訊及通訊傳播業"}],this.selectItem=["資訊及通訊傳播業"],this.margin={top:20,right:90,bottom:30,left:150},this.width=550-this.margin.left-this.margin.right,this.height=350-this.margin.top-this.margin.bottom,this.d3=t.getD3()}return t.prototype.ngAfterViewInit=function(){this.noSelect&&(this.selectItem=this.data.map(function(t){return t.name}));var t=this.d3.tree().size([300,100]),n=this.d3.stratify().id(function(t){return t.name}).parentId(function(t){return t.parent})(this.data);n.each(function(t){t.name=t.id});var e=this.d3.hierarchy(n,function(t){return t.children});e=t(e),this.render(e)},t.prototype.render=function(t){var n=this,e=this.d3.select(this.container.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom),l=e.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),i=(l.selectAll(".link").data(t.descendants().slice(1)).enter().append("path").attr("class","link").attr("d",function(t){return"M"+t.y+","+t.x+"C"+(t.y+t.parent.y)/2+","+t.x+" "+(t.y+t.parent.y)/2+","+t.parent.x+" "+t.parent.y+","+t.parent.x}),l.selectAll(".node").data(t.descendants()).enter().append("g").attr("class",function(t){return"node"+(t.children?" node--internal":" node--leaf")}).attr("transform",function(t){return"translate("+t.y+","+t.x+")"}));this.circle=i.append("circle").attr("r",10).attr("fill","#fff"),i.append("text").attr("dy",".35em").attr("x",function(t){return t.children?-13:13}).style("text-anchor",function(t){return t.children?"end":"start"}).text(function(t){return t.data.name});var r=this.d3.schemeCategory10;if(this.circle.attr("fill",function(t,e){return n.selectItem.indexOf(n.data[e].name)>-1?r[e]:"#fff"}),this.noSelect)return void(this.selectItem=this.data.map(function(t){return t.name}));this.single?i.on("click",function(t,e,l){var i=n.d3.select(l[e]).text();n.selectItem.indexOf(i)>-1||(n.selectItem=[i],n.select.emit(n.selectItem),n.circle.attr("fill",function(t,e){return n.selectItem.indexOf(n.data[e].name)>-1?r[e]:"#fff"}))}):i.on("click",function(t,e,l){var i=n.d3.select(l[e]).text(),a=n.selectItem.indexOf(i);a>-1?n.selectItem.splice(a,1):n.selectItem.push(i),n.select.emit(n.selectItem),n.circle.attr("fill",function(t,e){return n.selectItem.indexOf(n.data[e].name)>-1?r[e]:"#fff"})})},t.ctorParameters=function(){return[{type:l.a}]},t}()},SUyc:function(t,n,e){"use strict";function l(t){return a["ɵvid"](0,[a["ɵqud"](201326592,1,{container:0}),(t()(),a["ɵeld"](0,null,null,1,"app-treemap",[],null,[[null,"select"]],function(t,n,e){var l=!0,i=t.component;if("select"===n){l=i.selectIndustry(e)!==!1&&l}return l},u.a,u.b)),a["ɵdid"](2121728,null,0,s.a,[c.a],null,{select:"select"}),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵeld"](0,[[1,0],["container",1]],null,14,"div",[["id","container"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,11,"div",[["id","tooltip"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","title"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","year"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_1"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_2"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_3"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵted"](null,["\n"]))],null,null)}function i(t){return a["ɵvid"](0,[(t()(),a["ɵeld"](0,null,null,1,"app-line-chart-avg-hours",[],null,null,null,l,h)),a["ɵdid"](2121728,null,0,o.a,[c.a],null,null)],null,null)}var r=e("VW5j"),a=e("3j3K"),o=e("7ALU"),u=e("QleX"),s=e("SARu"),c=e("jhga");e.d(n,"b",function(){return h}),n.a=l;var d=[r.a],h=a["ɵcrt"]({encapsulation:0,styles:d,data:{}});a["ɵccf"]("app-line-chart-avg-hours",o.a,i,{rawData:"rawData",colors:"colors",max:"max",min:"min",selectData:"selectData",_data:"_data"},{},[])},Ucbx:function(t,n,e){"use strict";function l(t){return a["ɵvid"](0,[a["ɵqud"](201326592,1,{container:0}),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵeld"](0,null,null,1,"app-treemap",[],null,null,null,o.a,o.b)),a["ɵdid"](2121728,null,0,u.a,[s.a],{noSelect:[0,"noSelect"]},null),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵeld"](0,[[1,0],["container",1]],null,14,"div",[["id","container"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,11,"div",[["id","tooltip"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","title"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","year"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_1"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_2"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_3"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵted"](null,["\n\n"])),(t()(),a["ɵeld"](0,null,null,18,"div",[["style","margin-top:30px;height: 50px"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,15,"div",[],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,8,"div",[["class","slider-bar"],["style","display: inline-block;width: 800px;padding-left: 30px;padding-right: 30px"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n      "])),(t()(),a["ɵeld"](0,null,null,5,"nouislider",[],[[2,"ng2-nouislider",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,n,e){var l=!0,i=t.component;if("ngModelChange"===n){l=(i.selectYear=e)!==!1&&l}if("ngModelChange"===n){l=i.yearChange(e)!==!1&&l}return l},d.a,d.b)),a["ɵdid"](319488,null,0,h.NouisliderComponent,[a.ElementRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"],ngModel:[3,"ngModel"],tooltips:[4,"tooltips"]},null),a["ɵprd"](512,null,p.NG_VALUE_ACCESSOR,function(t){return[t]},[h.NouisliderComponent]),a["ɵdid"](335872,null,0,p.NgModel,[[8,null],[8,null],[8,null],[2,p.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),a["ɵprd"](1024,null,p.NgControl,null,[p.NgModel]),a["ɵdid"](8192,null,0,p.NgControlStatus,[p.NgControl],null,null),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,1,"button",[["style","display: inline-block;width: 60px;position: absolute;margin-top: 8px"]],null,[[null,"click"]],function(t,n,e){var l=!0,i=t.component;if("click"===n){l=i.playAndPause()!==!1&&l}return l},null,null)),(t()(),a["ɵted"](null,["",""])),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵted"](null,["\n"]))],function(t,n){var e=n.component;t(n,3,0,!0),t(n,28,0,1991,2016,1,e.selectYear,!0),t(n,30,0,e.selectYear)},function(t,n){var e=n.component;t(n,27,0,!0,a["ɵnov"](n,32).ngClassUntouched,a["ɵnov"](n,32).ngClassTouched,a["ɵnov"](n,32).ngClassPristine,a["ɵnov"](n,32).ngClassDirty,a["ɵnov"](n,32).ngClassValid,a["ɵnov"](n,32).ngClassInvalid,a["ɵnov"](n,32).ngClassPending),t(n,36,0,e.playSub?"Pause":"Play")})}function i(t){return a["ɵvid"](0,[(t()(),a["ɵeld"](0,null,null,1,"app-pie-chart",[],null,null,null,l,f)),a["ɵdid"](2121728,null,0,c.a,[s.a],null,null)],null,null)}var r=e("lSFF"),a=e("3j3K"),o=e("QleX"),u=e("SARu"),s=e("jhga"),c=e("sSFt"),d=e("JhR1"),h=e("xA9i"),p=(e.n(h),e("NVOs"));e.d(n,"b",function(){return f}),n.a=l;var g=[r.a],f=a["ɵcrt"]({encapsulation:0,styles:g,data:{}});a["ɵccf"]("app-pie-chart",c.a,i,{rawData:"rawData",colors:"colors",max:"max",min:"min",selectData:"selectData",_data:"_data"},{},[])},VW5j:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=['@charset "UTF-8";#container[_ngcontent-%COMP%]{padding:35px 35px 15px;margin-bottom:10px;position:relative;display:inline-block;border:5px solid #ebebeb}#tooltip[_ngcontent-%COMP%]{font-family:微軟正黑體;background:#fff;border:1px solid #999;border-radius:5px;box-shadow:2px 2px 8px #888;position:absolute;visibility:hidden;padding:8px 15px;z-index:999}#tooltip[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:900;font-size:16px}#tooltip[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{text-align:center;font-weight:900;font-size:14px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title):not(.year){text-align:right}']},YWx4:function(t,n,e){"use strict";var l=e("VHfV"),i=e("Fzro"),r=e("Gvdl"),a=(e.n(r),e("M4fF"));e.n(a);e.d(n,"a",function(){return o});var o=function(){function t(t,n){this.d3Service=t,this.http=n,this.toggleBarOrLine=!0,this.d3=t.getD3()}return t.prototype.ngOnInit=function(){var t=this;this.http.get("assets/data.csv").subscribe(function(n){t.data=t.d3.csvParse(n._body,function(t){Object.keys(t).filter(function(t){return"時間"!==t&&"行業"!==t}).forEach(function(n){return t[n]=+t[n]||0});var n=t.時間.split("/");return n[0]=+n[0]+1911,t.時間=new Date(n.join("/")),t});var e=t.d3.schemeCategory10;t.colors=t.data.map(function(t){return t.行業}).filter(function(t,n,e){return e.indexOf(t)===n}).map(function(t,n){return{name:t,color:e[n]}}),t.lineChart.colors=t.colors,t.lineChart.max=t.d3.max(t.data,function(t){return t.經常性薪資}),t.lineChart.min=t.d3.min(t.data,function(t){return t.經常性薪資}),t.initLineChart(),t.barChart.colors=t.colors,t.barChart.max=t.d3.max(t.data,function(t){return t.平均工時}),t.barChart.min=t.d3.min(t.data,function(t){return t.平均工時}),t.initBarChart(),t.pieChart.colors=t.colors,t.pieChart.max=t.d3.max(t.data,function(t){return t.受僱員工人數}),t.pieChart.min=t.d3.min(t.data,function(t){return t.受僱員工人數}),t.initPieChart(),t.lineChartAvgHours.colors=t.colors,t.lineChartAvgHours.max=t.d3.max(t.data,function(t){return t.平均工時}),t.lineChartAvgHours.min=t.d3.min(t.data,function(t){return t.平均工時}),t.initLineChartAvgHours()},function(t){alert("資料載入失敗，請重新整理。")})},t.prototype.initLineChart=function(){var t=this.data.filter(function(t){return"資訊及通訊傳播業"===t.行業});this.lineChart.selectData=["資訊及通訊傳播業"],this.lineChart.data=t.map(function(t){return{"時間":t.時間,"行業":t.行業,"經常性薪資":t.經常性薪資,"經常性薪資_男":t.經常性薪資_男,"經常性薪資_女":t.經常性薪資_女}})},t.prototype.initBarChart=function(){var t=this.data.filter(function(t){return"資訊及通訊傳播業"===t.行業});this.barChart.selectData=["資訊及通訊傳播業"],this.barChart.data=t.map(function(t){return{"時間":t.時間,"行業":t.行業,"平均工時":t.平均工時,"平均工時_男":t.平均工時_男,"平均工時_女":t.平均工時_女}})},t.prototype.initPieChart=function(){var t=this.data.filter(function(t){return"資訊及通訊傳播業"!==t.行業});this.pieChart.selectData=a.union(this.data.map(function(t){return t.行業})),this.pieChart.data=t.map(function(t){return{"時間":t.時間,"行業":t.行業,"受僱員工人數":t.受僱員工人數,"受僱員工人數_男":t.受僱員工人數_男,"受僱員工人數_女":t.受僱員工人數_女}})},t.prototype.initLineChartAvgHours=function(){var t=this.data.filter(function(t){return"資訊及通訊傳播業"===t.行業});this.lineChartAvgHours.selectData=["資訊及通訊傳播業"],this.lineChartAvgHours.data=t.map(function(t){return{"時間":t.時間,"行業":t.行業,"平均工時":t.平均工時,"平均工時_男":t.平均工時_男,"平均工時_女":t.平均工時_女}})},t.ctorParameters=function(){return[{type:l.a},{type:i.k}]},t}()},"Zo/k":function(t,n,e){"use strict";function l(t){return a["ɵvid"](0,[a["ɵqud"](201326592,1,{container:0}),(t()(),a["ɵeld"](0,null,null,1,"app-treemap",[],null,[[null,"select"]],function(t,n,e){var l=!0,i=t.component;if("select"===n){l=i.selectIndustry(e)!==!1&&l}return l},u.a,u.b)),a["ɵdid"](2121728,null,0,s.a,[c.a],{single:[0,"single"]},{select:"select"}),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵeld"](0,[[1,0],["container",1]],null,14,"div",[["id","container"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵeld"](0,null,null,11,"div",[["id","tooltip"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","title"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","year"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_1"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_2"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n    "])),(t()(),a["ɵeld"](0,null,null,0,"p",[["class","content_3"]],null,null,null,null,null)),(t()(),a["ɵted"](null,["\n  "])),(t()(),a["ɵted"](null,["\n"])),(t()(),a["ɵted"](null,["\n"]))],function(t,n){t(n,2,0,!0)},null)}function i(t){return a["ɵvid"](0,[(t()(),a["ɵeld"](0,null,null,1,"app-bar-chart",[],null,null,null,l,h)),a["ɵdid"](2121728,null,0,o.a,[c.a],null,null)],null,null)}var r=e("+0PM"),a=e("3j3K"),o=e("NhIl"),u=e("QleX"),s=e("SARu"),c=e("jhga");e.d(n,"b",function(){return h}),n.a=l;var d=[r.a],h=a["ɵcrt"]({encapsulation:0,styles:d,data:{}});a["ɵccf"]("app-bar-chart",o.a,i,{rawData:"rawData",colors:"colors",max:"max",min:"min",selectData:"selectData",_data:"_data"},{},[])},dU5j:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=[""]},kZql:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l={production:!0}},kke6:function(t,n,e){"use strict";var l=e("3j3K"),i=e("Iksp"),r=e("2Je8"),a=e("Qbdm"),o=e("NVOs"),u=e("Fzro"),s=e("xA9i"),c=(e.n(s),e("jhga")),d=e("1A80");e.d(n,"a",function(){return g});var h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),p=function(t){function n(n){return t.call(this,n,[d.a],[d.a])||this}return h(n,t),Object.defineProperty(n.prototype,"_LOCALE_ID_13",{get:function(){return null==this.__LOCALE_ID_13&&(this.__LOCALE_ID_13=l["ɵn"](this.parent.get(l.LOCALE_ID,null))),this.__LOCALE_ID_13},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NgLocalization_14",{get:function(){return null==this.__NgLocalization_14&&(this.__NgLocalization_14=new r.a(this._LOCALE_ID_13)),this.__NgLocalization_14},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Compiler_15",{get:function(){return null==this.__Compiler_15&&(this.__Compiler_15=new l.Compiler),this.__Compiler_15},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_ID_16",{get:function(){return null==this.__APP_ID_16&&(this.__APP_ID_16=l["ɵg"]()),this.__APP_ID_16},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IterableDiffers_17",{get:function(){return null==this.__IterableDiffers_17&&(this.__IterableDiffers_17=l["ɵl"]()),this.__IterableDiffers_17},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_KeyValueDiffers_18",{get:function(){return null==this.__KeyValueDiffers_18&&(this.__KeyValueDiffers_18=l["ɵm"]()),this.__KeyValueDiffers_18},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSanitizer_19",{get:function(){return null==this.__DomSanitizer_19&&(this.__DomSanitizer_19=new a.b(this.parent.get(a.c))),this.__DomSanitizer_19},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Sanitizer_20",{get:function(){return null==this.__Sanitizer_20&&(this.__Sanitizer_20=this._DomSanitizer_19),this.__Sanitizer_20},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_HAMMER_GESTURE_CONFIG_21",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_21&&(this.__HAMMER_GESTURE_CONFIG_21=new a.d),this.__HAMMER_GESTURE_CONFIG_21},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EVENT_MANAGER_PLUGINS_22",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_22&&(this.__EVENT_MANAGER_PLUGINS_22=[new a.e(this.parent.get(a.c)),new a.f(this.parent.get(a.c)),new a.g(this.parent.get(a.c),this._HAMMER_GESTURE_CONFIG_21)]),this.__EVENT_MANAGER_PLUGINS_22},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EventManager_23",{get:function(){return null==this.__EventManager_23&&(this.__EventManager_23=new a.h(this._EVENT_MANAGER_PLUGINS_22,this.parent.get(l.NgZone))),this.__EventManager_23},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ɵDomSharedStylesHost_24",{get:function(){return null==this.__ɵDomSharedStylesHost_24&&(this.__ɵDomSharedStylesHost_24=new a.i(this.parent.get(a.c))),this.__ɵDomSharedStylesHost_24},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ɵDomRendererFactory2_25",{get:function(){return null==this.__ɵDomRendererFactory2_25&&(this.__ɵDomRendererFactory2_25=new a.j(this._EventManager_23,this._ɵDomSharedStylesHost_24)),this.__ɵDomRendererFactory2_25},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RendererFactory2_26",{get:function(){return null==this.__RendererFactory2_26&&(this.__RendererFactory2_26=this._ɵDomRendererFactory2_25),this.__RendererFactory2_26},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ɵSharedStylesHost_27",{get:function(){return null==this.__ɵSharedStylesHost_27&&(this.__ɵSharedStylesHost_27=this._ɵDomSharedStylesHost_24),this.__ɵSharedStylesHost_27},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Testability_28",{get:function(){return null==this.__Testability_28&&(this.__Testability_28=new l.Testability(this.parent.get(l.NgZone))),this.__Testability_28},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Meta_29",{get:function(){return null==this.__Meta_29&&(this.__Meta_29=new a.k(this.parent.get(a.c))),this.__Meta_29},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Title_30",{get:function(){return null==this.__Title_30&&(this.__Title_30=new a.l(this.parent.get(a.c))),this.__Title_30},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ɵi_31",{get:function(){return null==this.__ɵi_31&&(this.__ɵi_31=new o["ɵi"]),this.__ɵi_31},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_BrowserXhr_32",{get:function(){return null==this.__BrowserXhr_32&&(this.__BrowserXhr_32=new u.a),this.__BrowserXhr_32},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ResponseOptions_33",{get:function(){return null==this.__ResponseOptions_33&&(this.__ResponseOptions_33=new u.b),this.__ResponseOptions_33},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_XSRFStrategy_34",{get:function(){return null==this.__XSRFStrategy_34&&(this.__XSRFStrategy_34=u.c()),this.__XSRFStrategy_34},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_XHRBackend_35",{get:function(){return null==this.__XHRBackend_35&&(this.__XHRBackend_35=new u.d(this._BrowserXhr_32,this._ResponseOptions_33,this._XSRFStrategy_34)),this.__XHRBackend_35},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RequestOptions_36",{get:function(){return null==this.__RequestOptions_36&&(this.__RequestOptions_36=new u.e),this.__RequestOptions_36},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Http_37",{get:function(){return null==this.__Http_37&&(this.__Http_37=u.f(this._XHRBackend_35,this._RequestOptions_36)),this.__Http_37},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_D3Service_38",{get:function(){return null==this.__D3Service_38&&(this.__D3Service_38=new c.a),this.__D3Service_38},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._CommonModule_0=new r.b,this._ErrorHandler_1=a.m(),this._APP_INITIALIZER_2=[l["ɵo"],a.n(this.parent.get(a.o,null),this.parent.get(l.NgProbeToken,null))],this._ApplicationInitStatus_3=new l.ApplicationInitStatus(this._APP_INITIALIZER_2),this._ɵf_4=new l["ɵf"](this.parent.get(l.NgZone),this.parent.get(l["ɵConsole"]),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new l.ApplicationModule(this._ApplicationRef_5),this._BrowserModule_7=new a.p(this.parent.get(a.p,null)),this._ɵba_8=new o["ɵba"],this._FormsModule_9=new o.FormsModule,this._HttpModule_10=new u.g,this._NouisliderModule_11=new s.NouisliderModule,this._AppModule_12=new i.a,this._AppModule_12},n.prototype.getInternal=function(t,n){return t===r.b?this._CommonModule_0:t===l.ErrorHandler?this._ErrorHandler_1:t===l.APP_INITIALIZER?this._APP_INITIALIZER_2:t===l.ApplicationInitStatus?this._ApplicationInitStatus_3:t===l["ɵf"]?this._ɵf_4:t===l.ApplicationRef?this._ApplicationRef_5:t===l.ApplicationModule?this._ApplicationModule_6:t===a.p?this._BrowserModule_7:t===o["ɵba"]?this._ɵba_8:t===o.FormsModule?this._FormsModule_9:t===u.g?this._HttpModule_10:t===s.NouisliderModule?this._NouisliderModule_11:t===i.a?this._AppModule_12:t===l.LOCALE_ID?this._LOCALE_ID_13:t===r.c?this._NgLocalization_14:t===l.Compiler?this._Compiler_15:t===l.APP_ID?this._APP_ID_16:t===l.IterableDiffers?this._IterableDiffers_17:t===l.KeyValueDiffers?this._KeyValueDiffers_18:t===a.q?this._DomSanitizer_19:t===l.Sanitizer?this._Sanitizer_20:t===a.r?this._HAMMER_GESTURE_CONFIG_21:t===a.s?this._EVENT_MANAGER_PLUGINS_22:t===a.h?this._EventManager_23:t===a.i?this._ɵDomSharedStylesHost_24:t===a.j?this._ɵDomRendererFactory2_25:t===l.RendererFactory2?this._RendererFactory2_26:t===a.t?this._ɵSharedStylesHost_27:t===l.Testability?this._Testability_28:t===a.k?this._Meta_29:t===a.l?this._Title_30:t===o["ɵi"]?this._ɵi_31:t===u.a?this._BrowserXhr_32:t===u.h?this._ResponseOptions_33:t===u.i?this._XSRFStrategy_34:t===u.d?this._XHRBackend_35:t===u.j?this._RequestOptions_36:t===u.k?this._Http_37:t===c.a?this._D3Service_38:n},n.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_24&&this._ɵDomSharedStylesHost_24.ngOnDestroy()},n}(l["ɵNgModuleInjector"]),g=new l.NgModuleFactory(p,i.a)},l0Vc:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=[".wrapper[_ngcontent-%COMP%]{margin:20px auto;width:80%;text-align:center}#bar-line-toggle[_ngcontent-%COMP%]{position:absolute;left:27.5%}"]},lSFF:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=['@charset "UTF-8";#container[_ngcontent-%COMP%]{padding:35px 35px 15px;margin-top:20px;margin-bottom:30px;position:relative;display:inline-block;border:5px solid #ebebeb}#tooltip[_ngcontent-%COMP%]{font-family:微軟正黑體;background:#fff;border:1px solid #999;border-radius:5px;box-shadow:2px 2px 8px #888;position:absolute;visibility:hidden;padding:8px 15px;z-index:999}#tooltip[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:900;font-size:16px}#tooltip[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{text-align:center;font-weight:900;font-size:14px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title):not(.year){text-align:right}']},sSFt:function(t,n,e){"use strict";var l=e("VHfV"),i=e("rCTf"),r=(e.n(i),e("M4fF"));e.n(r);e.d(n,"a",function(){return a});var a=function(){function t(t){this.d3Service=t,this._data=[],this.selectYear=1991,this.margin={top:25,right:25,bottom:25,left:25},this.padding=50,this.w=900,this.h=450,this.radius=Math.min(this.w-this.margin.left-this.margin.right,this.h-this.margin.top-this.margin.bottom)/2,this.d3=t.getD3()}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.bind(this.getYearsData(this.data),this.selectYear)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.svg=this.d3.select(this.container.nativeElement).append("svg").attrs({width:this.w-this.margin.left-this.margin.right,height:this.h-this.margin.top-this.margin.bottom})},t.prototype.playAndPause=function(){var t=this;this.playSub?(this.playSub.unsubscribe(),this.playSub=void 0):this.playSub=i.Observable.interval(1e3).takeWhile(function(){return t.selectYear<2016}).subscribe(function(){return t.selectYear++},null,function(){return t.playSub=void 0})},t.prototype.yearChange=function(t){this.bind(this.getYearsData(this.data),t)},t.prototype.bind=function(t,n){var e=this;void 0===n&&(n=null);var l=t.filter(function(t){return t.時間.getFullYear()===n}),i=this.d3.pie().sort(function(t,n){return e.selectData.indexOf(t.行業)-e.selectData.indexOf(n.行業)}).value(function(t){return t.受僱員工人數}),r=this.svg.selectAll("g.arc").data(i(l)),a=r.enter().append("g").attr("class","arc");a.append("path"),a.append("text"),r.exit().remove(),this.render(),this.bindEvents()},t.prototype.render=function(){var t=this,n=this.d3.arc().outerRadius(this.radius-15).innerRadius(0),e=this.d3.arc().outerRadius(this.radius-60).innerRadius(this.radius-60);this.svg.selectAll("g.arc").attr("transform","translate("+(this.w-this.margin.left-this.margin.right)/2+", "+(this.h-this.margin.top-this.margin.bottom)/2+")").select("path").attr("d",n).attrs({stroke:"#ffffff","stroke-width":4}).style("fill",function(n){return t.colors.find(function(t){return t.name===n.data.行業}).color});var l=r.sumBy(this.getYearsData(this.data).filter(function(n){return n.時間.getFullYear()===t.selectYear}),function(t){return t.受僱員工人數});this.svg.selectAll("g.arc").select("text").attr("transform",function(t){return"translate("+e.centroid(t)+")"}).attr("text-anchor","middle").attr("fill","#333333").attr("stroke","#333333").attr("stroke-width",1).styles({"font-size":16}).text(function(t){return r.round(t.data.受僱員工人數/l*100,2)+"%"})},t.prototype.bindEvents=function(){var t=this;this.svg.selectAll("g.arc path").on("mouseover",function(n,e,l){var i=(t.d3.mouse(t.d3.event.target),n.startAngle+(n.endAngle-n.startAngle)/2-Math.PI/2),r=18*Math.cos(i),a=18*Math.sin(i);t.d3.select(t.d3.event.target).transition().duration(200).attr("transform","translate("+r+", "+a+")");var o=t.d3.select(t.container.nativeElement).select("#tooltip");o.select(".title").text(n.data.行業),o.select(".year").text(n.data.時間.getFullYear()),o.select(".content_1").text("受僱員工人數："+Number(n.data.受僱員工人數).toLocaleString()+" 人"),o.select(".content_2").text("男："+Number(n.data.受僱員工人數_男).toLocaleString()+" 人"),o.select(".content_3").text("女："+Number(n.data.受僱員工人數_女).toLocaleString()+" 人"),o.style("visibility","visible")}).on("mousemove",function(n,e,l){var i=t.d3.mouse(t.d3.event.target);t.d3.select(t.container.nativeElement).select("#tooltip").styles({transform:"translate("+(i[0]+430)+"px,"+(i[1]+200)+"px)"})}).on("mouseout",function(n,e,l){t.d3.select(t.d3.event.target).transition().duration(200).attr("transform","translate(0, 0)"),t.d3.select(t.container.nativeElement).select("#tooltip").style("visibility","hidden")})},t.prototype.getYearsData=function(t){var n=this,e=r.groupBy(t,function(t){return t.時間.getFullYear()}),l=r.map(e,function(t){return r.groupBy(t,function(t){return t.行業})});return r.flatten(this.selectData.map(function(t){return l.map(function(n){return n[t]}).map(n.calculateAvg)})).filter(function(t){return t.行業})},t.prototype.calculateAvg=function(t){return t&&t.length>0?{"時間":t[0].時間,"行業":t[0].行業,"受僱員工人數":r.round(t.map(function(t){return t.受僱員工人數}).reduce(r.add)/t.length),"受僱員工人數_女":r.round(t.map(function(t){return t.受僱員工人數_女}).reduce(r.add)/t.length),"受僱員工人數_男":r.round(t.map(function(t){return t.受僱員工人數_男}).reduce(r.add)/t.length)}:{"時間":new Date,"行業":"","受僱員工人數":0,"受僱員工人數_女":0,"受僱員工人數_男":0}},t.ctorParameters=function(){return[{type:l.a}]},t}()},x35b:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e("3j3K"),i=e("kZql"),r=e("Qbdm"),a=e("kke6");i.a.production&&e.i(l.enableProdMode)(),e.i(r.a)().bootstrapModuleFactory(a.a)}},[1]);